<!DOCTYPE html>
<html>
<head>
    <title>TenderPlanner - File Checker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 { color: #333; }
        .file-check {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .status {
            font-weight: bold;
            padding: 5px 15px;
            border-radius: 5px;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { 
            background: #e7f3ff;
            padding: 15px;
            margin: 20px 0;
            border-left: 4px solid #2196F3;
            border-radius: 4px;
        }
        .download-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .download-btn {
            display: inline-block;
            padding: 10px 20px;
            margin: 5px;
            background: #4CAF50;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }
        .download-btn:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <h1>üîç TenderPlanner File Checker</h1>
    
    <div class="info">
        <strong>Instructies:</strong> Open deze pagina in dezelfde directory als je index.html.
        Deze pagina checkt of alle Tenderbureaus bestanden aanwezig zijn.
    </div>

    <h2>üì¶ Benodigde Bestanden:</h2>
    <div id="file-checks"></div>

    <div class="download-section" id="download-section" style="display:none;">
        <h2>üì• Download Ontbrekende Bestanden</h2>
        <p>Klik op de links hieronder om de bestanden te downloaden:</p>
        <div id="download-links"></div>
    </div>

    <div class="info" id="success-message" style="display:none; background: #d4edda; border-left-color: #28a745;">
        <strong>‚úÖ Alle bestanden gevonden!</strong> Je kunt deze pagina sluiten.
    </div>

    <script>
        const requiredFiles = [
            { 
                path: 'js/services/TenderbureausService.js',
                name: 'TenderbureausService.js',
                outputUrl: '/mnt/user-data/outputs/TenderbureausService.js'
            },
            { 
                path: 'js/views/TenderbureausView.js',
                name: 'TenderbureausView.js',
                outputUrl: '/mnt/user-data/outputs/TenderbureausView.js'
            },
            { 
                path: 'js/components/TenderbureauModal.js',
                name: 'TenderbureauModal.js',
                outputUrl: '/mnt/user-data/outputs/TenderbureauModal.js'
            },
            { 
                path: 'css/TenderbureausView.css',
                name: 'TenderbureausView.css',
                outputUrl: '/mnt/user-data/outputs/TenderbureausView.css'
            },
            { 
                path: 'js/App.js',
                name: 'App.js (updated)',
                outputUrl: '/mnt/user-data/outputs/App.js'
            }
        ];

        async function checkFiles() {
            const container = document.getElementById('file-checks');
            const downloadSection = document.getElementById('download-section');
            const downloadLinksContainer = document.getElementById('download-links');
            const successMessage = document.getElementById('success-message');
            
            let missingFiles = [];
            let allFound = true;

            for (const file of requiredFiles) {
                const div = document.createElement('div');
                div.className = 'file-check';
                
                const fileName = document.createElement('span');
                fileName.textContent = file.path;
                
                const status = document.createElement('span');
                status.className = 'status';
                
                try {
                    const response = await fetch(file.path, { method: 'HEAD' });
                    if (response.ok) {
                        status.textContent = '‚úÖ Gevonden';
                        status.classList.add('success');
                    } else {
                        status.textContent = '‚ùå Niet gevonden';
                        status.classList.add('error');
                        missingFiles.push(file);
                        allFound = false;
                    }
                } catch (error) {
                    status.textContent = '‚ùå Niet gevonden';
                    status.classList.add('error');
                    missingFiles.push(file);
                    allFound = false;
                }
                
                div.appendChild(fileName);
                div.appendChild(status);
                container.appendChild(div);
            }

            if (!allFound) {
                downloadSection.style.display = 'block';
                
                missingFiles.forEach(file => {
                    const p = document.createElement('p');
                    p.innerHTML = `
                        <strong>${file.name}</strong><br>
                        <span style="color: #666; font-size: 14px;">Plaats in: <code>${file.path}</code></span><br>
                        <span style="color: #999; font-size: 12px;">Let op: Download het bestand en plaats het handmatig in de juiste folder!</span>
                    `;
                    downloadLinksContainer.appendChild(p);
                });

                // Add instruction
                const instruction = document.createElement('div');
                instruction.innerHTML = `
                    <div style="background: #fff3cd; padding: 15px; margin-top: 20px; border-radius: 5px; border-left: 4px solid #ffc107;">
                        <strong>‚ö†Ô∏è BELANGRIJK:</strong><br><br>
                        De bestanden staan in Claude's output folder. Je moet ze handmatig downloaden:<br><br>
                        1. Ga terug naar Claude chat<br>
                        2. Klik op de download links die Claude gaf<br>
                        3. Sla elk bestand op in de juiste folder van je project<br>
                        4. Refresh deze pagina om opnieuw te checken<br><br>
                        <strong>Of:</strong> Kopieer de code direct vanuit de outputs die Claude maakte!
                    </div>
                `;
                downloadLinksContainer.appendChild(instruction);
            } else {
                successMessage.style.display = 'block';
            }
        }

        // Run check on page load
        checkFiles();
    </script>
</body>
</html>